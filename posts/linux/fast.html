<!doctype html><html lang="en"><title>Performance is the King!</title><meta charset="utf-8"><meta name="description" content="Pickfire's happy website by itself"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/pub/style.css"><link href=/posts/linux/atom.xml type=application/atom+xml rel=alternate title="Pickfire linux ATOM Feed"><header><a id="fire" href="/">Site </a><span><strong>Posts</strong><span id=info> - <em>Embrace the Unknown</em></span></span></header><menu><span class="left"><a href=/about/>About</a><a href=/links/>Links</a><a href=/posts/ id='here'>Posts</a></span><span class="right"><a id="tor" href="http://pickfireywcq2wf2.onion/">Tor</a></span></menu><nav><ul><li><a href="/posts/craft/">Craft/</a></li><li><a href="/posts/learn/">Learn/</a></li><li><a href="/posts/linux/" class=site>Linux/</a><ul><li><a href="/posts/linux/backup.html">Backup</a></li><li><a href="/posts/linux/block.html">Block</a></li><li><a href="/posts/linux/dev.html">Dev</a></li><li><a href="/posts/linux/fast.html" class=site>Fast</a></li><li><a href="/posts/linux/multi-pointer.html">Multi-pointer</a></li><li><a href="/posts/linux/parallel.html">Parallel</a></li><li><a href="/posts/linux/phone.html">Phone</a></li><li><a href="/posts/linux/setup.html">Setup</a></li></ul></li></ul></nav><main><h1>Performance is the King!</h1><h2>Speed up the slow systemd</h2><ul><li>Do <strong>simple benchmark</strong>
systemd-analyze [time|blame|critical-chain]</li><li>Enable <code>.socket</code> and disable <code>.service</code> (eg. sshd)</li><li>Set <code>Storage=volatile</code> in /etc/systemd/journald.conf</li></ul><h4><strong>Kernel</strong>: https://wiki.archlinux.org/index.php/Minimal_initramfs</h4><ul><li><p>For a better boost in boot time, remove the initramfs if no luks/lvm/raid is
used and compile linux kernel to include the modules needed in boot</p></li><li><p>Or instead, minimal initramfs (mkinitcpio here)</p><p>MODULES=&quot;ahci sd_mod btrfs&quot;
HOOKS=&quot;base&quot;</p></li></ul><h2>Speeding up DNS</h2><ul><li><p>One-liner to find fastest DNS server and add to <code>resolv.conf</code> (<a href="http://www.commandlinefu.com/commands/view/18802/a-function-to-find-the-fastest-dns-server">commandlinefu</a>):</p><p>curl -s http://public-dns.info/nameservers.txt | xargs -i timeout 1 ping -c1 -w 1 {} | sed -n &quot;/:.<em>time/ s/.<em>from ([^:]</em>).<em>time=([^ ]</em>).</em>/\2\t\1/p&quot; | sort -n | head -n1</p></li></ul></main><footer><span class="right"><a rel="license" href="http://creativecommons.org/licenses/by/4.0/">CC-BY</a>&ensp;<a href="/about/contact.html">Ivan Tham</a><link rel="stylesheet" href="/tor.css">
