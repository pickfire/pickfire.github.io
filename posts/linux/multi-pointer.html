<!doctype html><html lang="en"><title>Multi-pointer in DWM</title><meta charset="utf-8"><meta name="description" content="Pickfire's happy website by itself"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/pub/style.css"><link href=/posts/linux/atom.xml type=application/atom+xml rel=alternate title="Pickfire linux ATOM Feed"><header><a id="fire" href="/">Site </a><span><strong>Posts</strong><span id=info> - <em>Embrace the Unknown</em></span></span></header><menu><span class="left"><a href=/about/>About</a><a href=/links/>Links</a><a href=/posts/ id='here'>Posts</a></span><span class="right"><a id="tor" href="http://pickfireywcq2wf2.onion/">Tor</a></span></menu><nav><ul><li><a href="/posts/craft/">Craft/</a></li><li><a href="/posts/learn/">Learn/</a></li><li><a href="/posts/linux/" class=site>Linux/</a><ul><li><a href="/posts/linux/backup.html">Backup</a></li><li><a href="/posts/linux/block.html">Block</a></li><li><a href="/posts/linux/dev.html">Dev</a></li><li><a href="/posts/linux/fast.html">Fast</a></li><li><a href="/posts/linux/multi-pointer.html" class=site>Multi-pointer</a></li><li><a href="/posts/linux/parallel.html">Parallel</a></li><li><a href="/posts/linux/phone.html">Phone</a></li><li><a href="/posts/linux/setup.html">Setup</a></li></ul></li></ul></nav><main><h1>Multi-pointer in DWM</h1><p>Multi-pointer can be an alternative to multi-seat. Compared to multi-seat,
multi-pointer is easier to setup (because no multi-seat experience), allows
hardware acceleration and at least one monitor is required. Bad news? Both
shared the same xorg server, most things are shared.</p><p>As of now, no window manager with active development support multi-pointers
with multiple active window. Dwm does not support multi-pointer but here's a
crappy version in which the other users can only control one application
through keyboard since there is only one active window at a time.</p><h2>Configuring inputs</h2><p>One way to configure input devices is via the <code>xinput</code> tool. Without any
arguments given, it should list all the input devices in short format.</p><pre><code>xinput
</code></pre><p>It will print all the master device (cursors on screen) and the slave device
(physical device). Master device comes in pair, which is pointer and keyboard.</p><h2>Adding master device</h2><p>To create another pointer for a new user. First, we add a master device.</p><pre><code>xinput create-master Name
</code></pre><p>Another pointer should appear in the center of the screen by now.</p><h2>Assigning slave device</h2><p>We will then require to assign a slave device to the master device. The <em>id</em> of
the <strong>master</strong> and <strong>slave</strong> device can be found by using <code>xinput</code>.</p><pre><code>xinput reattach &lt;slave&gt; &lt;master&gt;
</code></pre><p>By the end of this, both pointer can move simultaneously but keyboard cannot
type in different application simultaneously, this is normal for window manager
without multi-pointer support.</p><h2>Point master device to window</h2><p>Time to point the master device to the respective window, do this for both
pointer and keyboard master device (not sure if specifying one works).</p><p>The <strong>window</strong> is the PID of window which can be checked with either <code>xprop</code>
(useless sometimes) or <code>xdotool selectwindow</code>.</p><pre><code>xinput set-cp &lt;window&gt; &lt;master&gt;
</code></pre><p>If the setup is successful, the other keyboard should be able to input only in
the window. In which multiple user can play different games at the same time.</p><h2>Cleaning up</h2><p>Remove all the master device that was created.</p><pre><code>xinput remove-master &lt;master&gt;
</code></pre><p>And <code>reattach</code> the pointer or keyboard back to the main master device.</p><h2>Ideas</h2><ul><li>The other could have used Xephyr or Xnest to have his own session instead.</li></ul><h2>See also</h2><ul><li><a href="https://ao2.it/en/blog/2010/01/19/poor-mans-multi-touch-using-multiple-mice-xorg">https://ao2.it/en/blog/2010/01/19/poor-mans-multi-touch-using-multiple-mice-xorg</a></li><li><a href="https://www.x.org/wiki/Development/Documentation/MPX/">https://www.x.org/wiki/Development/Documentation/MPX/</a></li></ul></main><footer><span class="right"><a rel="license" href="http://creativecommons.org/licenses/by/4.0/">CC-BY</a>&ensp;<a href="/about/contact.html">Ivan Tham</a><link rel="stylesheet" href="/tor.css">
